{
    "metadata": {
        "video_id": "VnW5WvXpgTE",
        "title": "YOUser Webinar | Prof. Brian Armstrong, University of Wisconsin-Milwaukee",
        "link": "https://www.youtube.com/watch?v=VnW5WvXpgTE",
        "duration": "41:32",
        "channel_name": "Quanser"
    },
    "transcript": {
        "0": "good morning everyone and welcome to another live concert user webinar in these webinar series we highlight the work of academics around the world that use quantum solutions and technologies my name is michele dv and together with my colleague gemma wang we will be your hosts and moderators this morning today i'm really excited to have a great friend of ours and actually one of our first ever clients professor brian armstrong from the university of wisconsin milwaukee professor armstrong studied mechanical engineering physics and electrical engineering at mit and stanford uh since arriving at uwm in 1989 he sought circuit analysis controls and embedded and embedded computing to undergraduate and graduate engineering students he's published two books numerous research articles and robotics controls and image metrology professor armstrong has also co-launched and led a startup company called metro innovation to commercialize a 3d image ",
        "1": "metrology technology that were developed that was developed in his lab he's also been awarded 22 u.s and international patents so so today professor armstrong will discuss how they use the quantity rotary the quantity rotary servo in their control systems lab uh to teach uh system identification modeling and control design techniques but in a very unique way so um so i'm looking forward to that okay so um as mitch said and thank you mitch for that introduction i i came to uwm in 1989 and began teaching introductory controls shortly after that my colleague and i uh ron perez and i um we uh we won a small internal grant or maybe not so small but to build a controls teaching lab and um ",
        "2": "so that was 1993 the our objective uh in the design of the laboratory was to maximize discovery learning we wanted to give the student as as little prescriptive directions as possible and to the to the extent possible um uh leave it up to the students to uh design the experiments they would do to reach objectives uh which were um centered around system identification uh and corresponding controller design so we so we developed a sequence of labs um where each uh has a progressively more elaborate model than the preceding ones and correspondingly uh that more elaborate model of the plant allows the student then to do more elaborate control and and as the um as the modeling becomes more ",
        "3": "sophisticated by which i mean really uh starting starting with a very basic model of dc gain um and then going to a single pole model for dynamics and transient response and uh and then finally uh to a fourth order model um as as additional features of the response become um uh visible uh then then at that point along this journey uh they are considered uh considered in more detail by the students here's here's a picture of our early apparatus so for those of you who jumped on the bandwagon early you'll recognize an srvo2a we actually had um an srvo1 uh for a period of time for evaluation um and then here's uh the amplifier unit and you can see the breadboard uh that jacob talks about in in his webinar as uh kind of being the earliest approach ",
        "4": "to controller design so so if we go all the way back to the beginning of time uh there was a conception of um uh that analog control circuits would be built up on this breadboard and of course things are very different today okay this slide got to be a little bit busy um let me just say that there are seven labs we execute the seven labs in 14 weeks um with some review sessions for exams done during labor lab periods some of the labs are one week and as as we talk through these basically i'll present each of these seven labs individually and speak to them briefly the uh we'll see that some of them are shorter than others uh and so um uh and so the students work through this progression uh in 14 weeks when we purchased a kit of srv o2b ",
        "5": "servos when we updated our gear from 1993 vintage to 2017 vintage um of course the controllers now are built in simulink and so we uh we added a lab at that time which is an introduction to to simulink that the students start out in controller design uh in that introductory experience just by cut and try just by changing the gains in order to achieve a performance specification that they're measuring by observing step response plots okay so let me let me advance here this so this is talking about that first lab the lab itself was adapted from controls to uh tutorials for matlab our goal is that students will get started with simulink and so the uh in their preparation for the course ",
        "6": "students have a background in transfer functions applied to signal processing they they're just beginning in this with control theory in this introductory controls course and um we're not assuming that they're familiar with simulink although some of them will be i'll also mention students work in groups of two and so uh so doing that you get a mix within each group of um skills and that and uh and so that may bring in some additional uh simulink experience into each of the groups the um they set up they set up as you can see a pretty simple system uh get started with the scope to be able to capture data and they play with controller gains and achieve various characteristics of response so the next lab is their first lab on the ",
        "7": "hardware and i'll mention that the lab manual is almost 190 pages two-thirds of that i would say is tutorial material and uh and i'm a great believer in in presenting students with with kind of the raw unfiltered uh information so we talk quite a bit about the sensors and and what their characteristics are so a mechanical introduction uh we see the three sensors there um they collect data on each of the sensors and characterize the sensors then proceeding to lab three um we developed the first the uh rather a more detailed model of the srvo2 and this model is a characterization of ",
        "8": "the steady state volts to velocity relationship and so you can see the that you can see some measurement noise some measurement issues here you can see that the volts velocity relationship is uh approximately linear um with this uh nonlinear dead zone uh arising with the friction and uh so they'll collect data that allows them uh to establish these points and then they measure uh or they identify rather uh the dc gain for the system this uh uh first of all it's it's um you know illustrative of this idea of of starting basic uh we try to give the students uh as little as possible either in the form of uh um data and characterizations that they just accept uh or in the form of uh of detailed ",
        "9": "steps uh and and sequences to follow to measure the data so we uh we introduce them to the basic hardware in the loop blocks that are part of quark um you know and away they go they they get an indication that they're to map out this voltage velocity relationship uh and they do uh another point to make on this slide is is that we're not yet into the time domain there's no transient response here so so uh you know even though these curves are a little suggestive of that this is um uh this is this slide is talking about or this figure is talking about uh linearization um which is which is part of handling this data so we get to lab four and finally do some control so in lab four they implement uh open and closed loop controllers and um here again uh we're trying to be very ",
        "10": "basic so the uh the closed loop controller is just proportional control uh it's a it's a volts velocity uh relationship um and the uh and so the uh and then we we we talk about some of the basic uh advantages or utility that that arises or that can uh that's achieved with feedback control so they look at transient response and rise time with respect to loop gain and of course the system gets faster we have a an approach to introducing parameter variation namely we put an additional resistor into the circuit path for the motor which changes the motor characteristics and then we look at how feedback control gives robustness to parameter variation ",
        "11": "we introduce a a disturbance we do that by having them put the motor servo on its side um and offsetting uh the link so that the so that there's a gravitational torque and so the students measure the effect of this disturbance and then of course see that increasing the loop gain mitigates the impact of disturbances okay progressing well hardware modification so at this point i want to talk a little bit about modifications that we have done to the hardware um a first modification is to uh introduce resistance into the motor circuit and uh the throughout the semester the students run with the first resistor which is two and a half ohms the motor itself is 2.6 ohms so it approximately doubles resistance the and um and our motivation for doing that is to increase the ",
        "12": "open loop time constant so a stock srvo2 has an open loop time constant of 45 milliseconds and um and with with two modifications that we do i'll mention the second one in a moment um we increase that to 300 milliseconds our our motivation for increasing the open loop time constant is that we we want the student to be able to perceive that the motor servo gets faster and um and if it's if it's so fast that it's that it's at the limit of human perception um with a stock srvo2 if you if you put in a step change in voltage velocity changes uh what appears to be instantly and it changes in 50 milliseconds but but the human has has some difficulty to perceive that and actually the unit itself uh makes a bump sound it goes bump and it's turning at a different speed and you change the voltage again and boom it's turning uh at a different ",
        "13": "speed and and uh so while we know that feedback control can make slow systems faster um and if and of course we can collect data and make plots if the system is is as fast as 50 milliseconds uh it's not possible to perceive that and at the very root of this um having a piece of hardware equipment like like the srvo2 uh the objective is to is to visualize differential equations for the student so so we want things to be perceptible in the hardware make a change in the control what the hardware does changes and um and of course we we get that um in part by slowing down the transient response and then feedback control is able to speed it back up again ",
        "14": "so uh so the two changes we do that are that have the effect of increasing the time constant the first is to introduce this resistor uh we get about a factor of two increasing the time constant from that and then the second uh is to change the link so here's here's a link that we um we made here at uwm i think we manufactured these or quants our may have made them for us uh and here's the original link our the the new one is steel um the original one is aluminum and we get a six or seven to one increase in the inertia so the the combined effect of those two changes is this uh increase in the in the time constant a second change that we made uh is to remove the gear drive between the motor and the main um shaft and introduce a belt drive and the reason for doing this uh is to ",
        "15": "introduce a flexible mode we'll we'll talk about that in a moment um and we'll be able to see that in some video coming up um and there's a there's a there's kind of an interesting uh motivation uh uh behind our our choice to introduce this flexible mode but the the which i'll talk about as we get a little bit further on uh in our discussion so the belt the belt drive is there all of the units um have the belt drive installed uh and it introduced uh a lightly damped pole pair which is which is quite stable across the units uh it's got a um a resonant frequency of about 35 radians per second or about six hertz and um and a damping factor of uh actually off the top of my head i'm not sure of the damping factor let's say point one it's relatively lightly damped ",
        "16": "okay so as the labs proceed we get into lab five um dynamic model in pi control i should mention the synchronization between the lecture portal portion of the course and the labs the two are not closely synchronized although when i give lecture i frequently draw upon something that i know the students are seeing in lab and so i can tie the mathematical development and lecture back to what students are seeing in lab um we're in the fifth out of seven labs here so we're getting quite far along and and for the first time we're introducing a model of the plant with a pole in it um the students in this lab develop a first order model looking at transient response here you see a transient to a square wave voltage input so we have a first velocity and a second velocity and transients between them we have some ",
        "17": "matlab uh fitting tools so students don't need to develop an expertise in the nonlinear fitting problem of of uh estimating uh rise time constant in a least squared sense that's that's that is one of the things that we do for them uh but they'll measure they'll measure a time constant out of uh this transient and then from that uh get a uh a first order model of the plant recall that we're still working in voltage velocity control and we'll uh well using that engineer a controller by pole placement and in terms of the synchronization with the course i think is that as as many or perhaps most introductory control theory courses will do our course uh starts with discussion of modeling tools builds up the basic mathematics as well as ",
        "18": "tools to estimate controller performance metrics such as rise time settling time and so forth out of transfer functions and um so that so even though we're in the back half of the semester by the time we get to lab five that's appropriate because the second half of the semester in terms of of um lecture uh introduces controller design techniques so this this first controller that the students do they design using a pole placement technique now uh a second thing that we introduce in this lab is frequency analysis as you'll see when we turn to to lab part six and finally um our capstone lab part seven um uh frequency analysis plays an important part for us and um again system identification is this is this long-running thread in the sequence of ",
        "19": "labs where they start very with a very basic model that incorporates dc gain at this point lab five they're working with a model that that brings in that first order uh transient of the mortise motor servo and then uh we're going to progress to a more elaborate model uh identified with with frequency analysis methods and um so uh so to get them started with frequency analysis we have them measure the tracking error um as a function of frequency and so they will apply sine waves i think this might be the the input signal here the um the red and and then this is measured data with a fit where we're measuring velocity data so you can see the influence of the tachometer cogging um and uh and this would be a typical data set that students get in fact this plot may have been made from from actual data ",
        "20": "the um uh and so you can see that by um measuring the the magnitude and phase of tracking error at various frequencies students students can identify the closed loop tracking error transfer function and also it makes a good basis for discussing bandwidth for the system so the students can see that that at low [Music] frequency the system is very accurate and then it begins to lose accuracy as the input frequency is increased okay so so our next lab lab 6 is devoted entirely to system identification it's really preparation for the competitive tracking challenge which is lab part 7. and the students well ",
        "21": "first off begin using the system um observing its position variable rather than velocity that of course introduces an additional pole at the origin and we'll measure the frequency response of the system um voltage to position across a range of frequencies that's sufficient to capture this um the resonant mode introduced by that belt and um the data set is the same between the left and the right here let's look over here on the right uh you can see this rapid shift in phase uh which corresponds to the to the frequency of that resonance um the an issue that arises in this um frequency analysis and modeling uh is determination of the number of poles and zeros and that may be one of the most complicated issues that that students ",
        "22": "deal with in lab uh during the semester so the uh the handout the tutorial materials which are in the handout they're a bit lengthy and um but walk the student through uh why there's there um there's a determination has to be made of uh how many poles and zeros are identified in the data and that's actually what you're seeing in this figure this is a figure from the lab hand out um the uh on the left we have uh four poles and three zeros and on the right we have four poles and one zero um and there's a discussion of um uh avoiding overfitting the data here we see a clear example of overfitting the the data ends here at about uh 300 radians per second and up here at about 500 radians per second we have this dramatic fascia feature uh which which the data doesn't support and so um we make the case in our presentation ",
        "23": "that even if you have a smaller uh least square least squares fit residual um with this uh uh more um highly parameterized model um that the the data is not supporting this choice of this more highly parameterized model that the simpler model is the preferred one so lab six the students work through all of that again um having the matlab simulink environment as opposed to the home brew controller software uh tools that we were using in 1993 the uh gives us a very straightforward way to collect data uh to set up the students to analyze data so so i said uh at the beginning that we wanted the students to be working from scratch as much as possible that concept applies to ",
        "24": "measuring sensor response characteristics observing um calibrating the sensors and everything that's done with respect to the control but with respect to the data analysis data reduction and so forth we've given them a number of automated tools that operate in matlab which which help them then to complete this analysis so all of that brings us to the capstone and let me switch now to uh some videos that i have and uh i'll i'll explain what our capstone challenge is so we um we take two sr vo2 units and set them up uh in a target tracker um configuration we could call this leader and follower and the ",
        "25": "uh the one on the left i control i uh the setup is position controlled and i put in a reference signal uh which is a multi-sign signal that accelerates over time so the left-hand unit is going to move faster and faster as time goes by the right-hand unit this the student controls and the the signal input to their controller uh is the is the instantaneous position signal uh coming from the target uh we call the students unit the tracker and as you'll see in this food video it's set up then in a target tracker configuration where the the tracker follows the target there you can see that resonant mode the lightly damped mode okay and now flicking to this second video so um here it is with the ",
        "26": "trajectory being generated uh it starts out rather slowly as you can see it's not purely um a sinusoidal motion it's this multi-sign and furthermore um omega itself is changing over time as the unit accelerates so you can also see friction effects particularly on the right um and so the there's a little bit of stick slip there which will compound the challenge okay and now uh to the video that shows uh what the students are shooting for so so we put between the target and the tracker unit this link and um the plastic block on the left is about 14 millimeters wide the the link has a pin that rides in a groove on the left and if uh and if the student maintains highly accurate tracking the link stays ",
        "27": "in the groove if the student if the tracker has larger errors then the link will fall out of the groove and so it makes a very visible effect it also makes visible and intangible this notion of tracking accuracy now as i mentioned i fly the unit on the left and um my my reference signal gets faster and faster as time goes by so um so as time goes by the um the reference motions are going to go out of the close loop bandwidth of the system or the tracking accuracy bandwidth of the system you'll recall that students measured that in lab part five and so um and so and so we have a basis for making clear that this will only be able to track for some duration of time and a final point is uh we can measure performance then with a stopwatch and so this becomes a competitive activity ",
        "28": "and our experience has been a quite positive response from students students are very engaged in the lab they're very excited to try it to tweak their controller a little bit uh and to try it again and so i will i'll just uh turn on this video and we can see um see how my uh controller performs here but you can see that it's that it's tracking um the motion uh accelerates over time uh the motion is also not simply a periodic motion but but is this uh this multi-sign motion that has various twitches and jumps so as time goes by it the the tracking challenge increases we're doing pretty well thus far and of course i've seen the final reel i know it's coming they will all fall out eventually because it it really whips so there there you can see um uh and i had a tracking performance of ",
        "29": "about 35 seconds there now i i want to speak uh a little bit more to this belt um let's see if i have a slide that addresses the issue that i'm moving towards a little how do i yes here we go so we've discovered the following uh kind of remarkable thing in the stock uh sr 2 srvo2 uh setup uh with the gear drive and that is uh that the students are able to realize sliding mode control accidentally and i want to thank uh graduate student april miller for helping me with these data collections she and i are working on a paper uh what we believe will be the first presentation of accidental sliding mode control ",
        "30": "um and so so the case is the following uh so in the tracker lab that we were just seeing students were invited advised invited rather to hand tune their tracker pid controller for higher performance and um and what we observed in lab and this in fact we've been observing this since the 1990s uh but it wasn't really until um more recently that that we uh took time to investigate what was going on more thoroughly but we found that some students would would double their tracking time by tuning gains to crazy high values hundreds of volts per radian thousands of volts per radiant second um these these are values that are 10 to 100 times higher than the values given by by pid control design and yet they got improved performance and another issue that arises as students ",
        "31": "would investigate this regime is that nearly any combination of high gain values would work and furthermore would work better than the controller design they achieved using the um using root locus techniques and pid controller design so um i and you know this strikes me as completely the wrong lesson uh that is uh we've got an entire semester of work the course is a four credit course at uwm which translates to uh 12 to 14 hours per week of work uh students are working hard to do this lots of math to cover and our final lab what does it show them it shows them well forget the math you don't need any of that uh just crank up the gains to really high values and um uh and you'll win the tracker competition ",
        "32": "so how do we get sliding mode control here for those of you familiar with sliding mode control it's a non-linear control technique that has pretty wide application in robotics and power electronics and other areas that's based on saturating a control signal one instantiates the so-called sliding surface which is um a region in state space um and uh where the control effort will be zero and then the control effort is positive on one side of the sliding surface and negative on the other so that state trajectories converge to the sliding surface as as slatin points out john jacques slattine at mit is was a pioneer in practical sliding mode control not the first one to approach the mathematics but what really played an enormous role in in bringing sliding mode control to to practical applications ",
        "33": "um the uh the the switching surface is both a place in the sense that it's a hyper plane in state space uh but it's also a dynamic so any state which is on the switching surface well converge to the origin of the switching surface this plot is shown in error coordinates and um i have this plot this is one of many data sets collected by by april this is a this is a three-dimensional error coordinates because uh we have integral error we have position error and we have the error derivative so that so this is capturing the system as a third order system uh neglecting the that resonant mode and in matlab here we can we can fly around the data set but the the the compelling evidence that we're in sliding mode uh is that is the non-linear behavior ",
        "34": "characteristic of the response so we introduce a disturbance that takes the uh the state far away from the origin in error coordinates of course we should we should be steadily at the origin and and the majority of the points are in a small neighborhood of the origin here uh but we disturbed the system and then the system responds uh it's able to penetrate the sliding surface down here um it comes back around and then it's captured by the sliding mode the um the light blue lines the cyan planes they're actually planes in 3d um uh are the edges of what's called the boundary layer so uh in one formulation of sliding mode control uh there's a thin region with linear control action um and slateen and his graduate students have worked out system dynamics inside of this thin region but long story short the a properly engineered sliding mode ",
        "35": "controller will will do exactly what we see here namely the trajectory will come will enter the volume of the boundary layer and then we'll not exit after that uh and this is this is what the high grain control is doing an attribute of sliding mode control is that detailed modeling is not required you just make the gains high enough and this this of course is um just what we're seeing in the lab the students make the gains crazy high and um uh and then they get good control so the belt drive uh a way to understand why we went to um to all of the effort to to uh um identify a solution of pulleys that the belt is actually an o-ring um sized correctly to to give us the tension we want to resist slippage um i and the belt drive we went through all those steps to put the belt drive in there uh to block ",
        "36": "this controller solution uh to avoid this uh very pernicious lesson that um uh that a semester's work in the mathematics of controller design doesn't actually get you anything just just crank the gains to the moon um so uh so with our uh our belt drive realized system uh here's the here's a root locus plot um this is this is gains at least an order of magnitude lower than those sliding mode gains which give us a stable set of poles for the system um the belt drive system you've got to take the math pretty seriously and and uh you know students can turn up their gains a little bit and see the system go unstable uh very nearly uh where the theory predicts here with the root locus okay um i wrap up uh with this uh this ",
        "37": "overly busy slide again um i just want to emphasize the students are constantly taking measurements of course and substantially doing uh system identification as they progress from one lab to the next okay and let me ask if there are any questions thanks a lot professor armstrong that was a great presentation i really enjoyed that uh as you said this is now the q a period so uh please send all your questions in the questions pane and uh we'll do our best to address those so um dr armstrong i know you've been uh as i said in the beginning you're one of ",
        "38": "you know the pioneers one of our first clients and you've run this lab for for many for a long time so how reliable did you find the qantas equipment oh very reliable i have to say it's impressive to me we bought our first set of uh eight motor servos in 1993 and we ran those to 2017 so so we got um 24 years of use out of them uh and and thousands of students thousands of students had the experience of uh you know learning more about controls in a hands-on way that's amazing uh so uh now you said as well that there's uh so they're going through seven labs like how much time do the students need to complete because it's um is it i guess a four credit course you said ",
        "39": "it is a four credit course and um we were obliged to introduce an extra lab to to introduce simulink as i as i talked about so that's pretty tight it would be nice um to have six labs and solidly have two weeks per lab uh but we make it work okay gotcha uh what would you say it's the hardest part for the students like the most challenging part oh the most challenging of the labs is uh definitely lab part six uh where they do the frequency identification and the and so it's got the the uh greatest mathematical complexity there's there's some complexity to using uh matlab's fitting routine inverse frequencies which takes that frequency data and and fits a transfer function and uh there's no controller component ",
        "40": "in lab part six actually we've kind of skinnied it down uh as much as possible uh and the the uh so but nonetheless it remains challenging it's challenging to mathematical level it's challenging in terms of the quantity of data which is involved and i suppose that reflects uh reality as well uh when you can tune uh a control system based on transient response the um you know that's a more straightforward um that's more straightforward approach and uh the what is it ziggler nickels ziggler nickels uh tuning rules going back to the 1940s uh is is based on transient response but if you need a fuller uh transfer function there's of course a lot more work to get that okay great thanks all right uh well that brings us to the end of our webinar so i'd like to thank you again dr armstrong for um this great ",
        "41": "presentation uh we certainly appreciate it so and a big thank you for everyone that attended uh today so um if you want more information please visit our website at quanzo.com or linkedin page to find out more about you know quantum solutions and any upcoming webinars you know we're constantly posting stuff on our social networks and with that um i wish everybody a great day thank you all right thank you goodbye bye "
    }
}