{
    "metadata": {
        "video_id": "HSWVJ7HM29o",
        "title": "How Coinbase works | Brian Armstrong and Lex Fridman",
        "link": "https://www.youtube.com/watch?v=HSWVJ7HM29o",
        "duration": "11:30",
        "channel_name": "Lex Clips"
    },
    "transcript": {
        "0": "what are cryptocurrency exchanges and what's coinbase how does it work before i'll ask even bigger questions but it's just a nice kind of pallet cleansing question of what is coinbase coinbase is a cryptocurrency exchange brokerage custodian basically we're the primary financial account for people in the crypto economy how they buy crypto how they store it how they use it increasingly in different ways we can talk about that um so yeah we want to be the way that a billion people hopefully access the open financial system globally how does it work what uh what's cryptocurrency you know there's uh there's bitcoin there's ethereum um what does it mean to be an exchange what does it mean to store what does it mean to transact how does it what does coinbase actually do okay so you know basically in any given market there's some people who want to buy some people who want to sell ",
        "1": "and there's you keep an order book of all those prices and then um you know if someone's willing to buy for more than the lowest price someone's willing to sell then you know you get a trade to execute that's kind of how an exchange works underneath and a brokerage is kind of simpler than that even you don't have to know look at the whole order book and everything but you just go in there and you say i want to buy 100 of bitcoin or whatever cryptocurrency you get a quote and if you like it you can hit accept and you know the core things that we do to make all that kind of just work make it seamless it sounds simple on the surface is we gotta we have to do payment integrations you know in a variety of places around the world to make it easy for people to get fiat currency into this ecosystem we have to work on cyber security a lot there's lots of hackers out there trying to break into our systems and steal crypto or to put stolen credit cards and bank accounts and things like that into these systems um we have to integrate with the blockchains themselves right which are periodically getting updated and ",
        "2": "having various airdrops and all kinds of things so we're integrated with lots of different blockchains and then we have to store the crypto that people buy securely as well so crypto is kind of like storing you store the private keys essentially and we've invented a lot of cool technology about how to do that securely that helps me sleep at night as one of the largest crypto custodians out there so those are some of the pieces that had to come together to get that early simple buy sell experience to work and yeah i mean coinbase actually has a lot of different products now so we have like an institutional product we we have coinbase commerce which is like merchant payments like stripe for crypto we've got a self-custodial wallet which we can talk about there's all kinds of cool applications people are building with web3 and they can access it through that we just just launched an nft product um i've gone down the list we have we so we're sort of like a portfolio of crypto products now we're big enough where we can do multiple things but yeah the core thing we got started with and still the majority of our revenue today is people just want to come in and buy and sell ",
        "3": "some crypto and we help them do that make it simple and easy to use uh and i'll ask you about wallet and if t is about com what is it called the stripe type coinbase commerce coinbase commerce yeah i'll ask about all that but uh order books and exchange what's the difference between that and stocks for example which there's also order books yes i mean stocks trade through order books too uh sort of commodities there's all similar type of situation so when i want to buy one bitcoin and i see coinbase say the price of that bitcoin is say forty thousand dollars and i press buy what happens um yeah okay so you've gotten a lot like you know when you press the button on your keyboard like electrical signal goes up the wire on your keyboard well that's also important the timing right because it's not pricing yeah it's true it's giving you a quote right that's that's um you know some there's a whole concept of like slippage and like by the time the quote is executed um if the price has ",
        "4": "moved too much like we may reject it and you know there's there's various things like that but how do i i mean what's the simple version i can give you so we you know we'll we'll basically check the order book give you a quote it's good for some period of time or for some amount of slippage and then what's happening is we're initiating a debit to your payment method whether that's a credit card or a bank account or you know you're storing dollars or euros or something on our platform there's various payment methods so we're basically debiting that and then we're crediting you the crypto and um we're taking a fee for it too so um that's fundamentally what's happening underneath and then there's some interesting slippage how do you how do you calculate the uh how much slippage is allowed like how do you how do you know these things you know because order books are fascinating you know the dynamics of that is pretty interesting yeah and the little i know about it yeah so there's a lot of people like traders who get super into this and like high frequency traders and arbitrage and all kinds of interesting topics flash boys ",
        "5": "was like an interesting book on this whole thing you want like access to information the fastest sometimes even putting your you know your thing in the data center right next to the thing we don't we don't allow that colo stuff because we want it to be more democratized um but you know basically you give a let's say we wanted to just keep it math simple we want to charge a one percent fee so if you're buying 100 of bitcoin and we'll charge you 101 you know we've presented you the amount of bitcoin you're gonna get for the hundred dollars now let's say 10 seconds later you hit accept we go to we go to fill the order so it's going to be some error bound around that one percent fee right and if we think we're actually losing money on the trade i think we'll often reject it so some part of the fee the slippage is incorporated into that averaged over a large number of people and it just just it's fascinating because like even just like that little detail probably requires a lot of experimentation yeah and it's kind of like a giant bug bounty out there because if you get it wrong ",
        "6": "there's people who are going to arbitrage that and we've we've had people sort of pen test our systems in you know really creative ways where like um they'll just fire like programmatically with apis they'll fire off like a million different quotes and look for one of them that's out of bounds and then actually take that money right there and you know we get people doing all kinds of crazy stuff but so how do you protect against that how do you protect so we'll talk about cyber security in interesting ways but there's a lot of clever people trying to do clever things to earn not even just to break into the system but to earn an edge of some kind yeah in the system how do you uh how do you stay one step ahead there's no silver bullet it's a bunch of lead bullets right so it's it's like you know one thing we do is we just have good test suites right so you're testing every piece of code that goes out that's like just common good best practice but it's particularly important in financial services um another thing we do is we hire third party firms to try to audit this stuff and break in another one we do is we ",
        "7": "have a bug bounty program so we basically pay white hat hackers to find this stuff before the black hats do and um we've paid out lots of good bug bounties so you know try all the above and occasionally you don't get it right and you lose some money and then you fix it and you keep going so yeah let's talk about sebas security a little bit more yeah you mentioned using stolen bank accounts yeah so that's another one that's another interesting one how do you protect against that okay so fraud prevention yeah is a big topic so one of the uh there's a lot of things people do but one of the things they do is that you use machine learning right so you look at protector to attack to protect against it so um what you want to do is kind of build up a labeled data set of all the different people who have turned out to be fraudulent and good good actors and hopefully collect as much data as you can and then you'll you know you might feed hundreds or thousands of these factors into your machine learning ",
        "8": "model it'll come back with a risk score so you know an example of like the kinds of factors people create or put in there you know obviously i don't want to disclose too many of them because it's it's a cat and mouse game but just kind of i don't know relatively well known stuff might be um you know you have device fingerprints right so like what kind of device are you on and what fonts do you have installed a lot of people who are farming lots of these accounts they're using emulators and like virtual machines and stuff they're not like you know an average person on that device um and then you'll see sometimes like one of my favorite metrics we track for for this was called like improbable travel velocity so we would we're tracking people's ips right and you might see someone um who was one day in austin texas and then like an hour later they were in london or something it's like well that's very improbable i mean sometimes people are using vpns so you got to be careful with that because like there's legitimate people who use vpns too but um if it's not possible for them to have gotten on a plane and gotten there that quickly then that's usually they're like ",
        "9": "spoofing a device or ip sometimes those are interesting factors but yeah if you feed enough of these in you will see oh the another fun one is like you know real users will type their credit card like one number at a time yeah scammers have a list of them and they'll just paste in a whole a whole number um so you can look at like the the number of milliseconds between keystrokes like there's all kinds of stuff people have come up with you for travel velocity you could probably incorporate vpns too because there's probably a uh travel velocity for vpn switching too that's human-like like if you're using legitimately vpn for something else yeah um that that might be there's like legitimate uses too actually you know i feel embarrassed that i don't know this probably should but the i'm not a robot capture thing capture thing yeah so that probably works in the same way like how do you move your mouse maybe or how the dynamics of the clicking totally ",
        "10": "but how does that even work that well then and why can't it be fake i need to look into this because it's it's such a trivial captcha it feels like should be very crackable and yet a lot of high security places use that yeah it's really interesting it's another cat and mouse game so i think they've yeah but it's using a lot of similar signals like mouse movements um keystrokes and then obviously all the stuff that comes over the the wire with your browser so like what operating system what fonts you know what headers are being sent over and yeah um there's actually there's an old website a camera was called it was kind of like panoptix click or panopticon or something but it basically was like a proof of concept site that um they would just show you all the data that was kind of getting sent over with your your request and like you say that there's only one person in the world who has this exact set of data it's you and so it's almost like um a work around a clever workaround to track somebody um make identify a unique person even if like there wasn't a cookie involved or something ",
        "11": "yeah this is a fascinating world where you can't see anybody you're in the dark and yet you have a lot of signal you have to figure out who's the real person who's not who's a robot who's not you "
    }
}